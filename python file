from sklearn.feature_extraction.text import CountVectorizer
from sklearn.naive_bayes import MultinomialNB
from sklearn.pipeline import make_pipeline

# Sample messages and labels
messages = [
    "Win a free iPhone now!",
    "Meeting at 10am tomorrow",
    "Congratulations, you won a lottery!",
    "Let's catch up over lunch",
    "Buy now and get 50% off",
    "Your account has been hacked, urgent action required",
    "Can you send me the report?",
    "Click here to claim your prize",
    "Reminder: doctor's appointment at 5pm",
    "Limited time offer, act now!"
]

labels = [
    "spam", "not spam", "spam", "not spam", "spam",
    "spam", "not spam", "spam", "not spam", "spam"
]

# Create and train the model
model = make_pipeline(CountVectorizer(), MultinomialNB())
model.fit(messages, labels)

# Test with a new message
sample_message = "You have won a free vacation! Click to claim now."
prediction = model.predict([sample_message])[0]

print(f"Message: \"{sample_message}\"")
print(f"Prediction: {prediction}")
